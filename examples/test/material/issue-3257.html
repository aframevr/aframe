<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hello!</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="../../../dist/aframe-master.js"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@1.2.0/dist/aframe-orbit-controls.min.js"></script>

    <script>

    setInterval(function() {

      /* Pulled resetting position in front of animation, as that
         seemed more likely to be the intended effect
         (when the position reset occurs after the animation, it
          creates a brief jump in position, but has no other effect) */

      /* This doesn't seem to work - not sure why...
      document
        .getElementById("myplane")
        .setAttribute("material.offset", {
          x: 0.5,
          y: 0.25,
        });*/

      /* This one works ... */
      document
        .getElementById("myplane")
        .setAttribute("material", {offset: {
          x: 0.5,
          y: 0.25
          }
        });

      /* This also works (commented out as we only need one of them!)
      document
        .getElementById("myplane")
        .setAttribute("material", "offset: 0.5 0.25");
      */

      /* If you want to play the same animation twice on an element using
         setAttribute, you need to remove the animation before re-adding it.
         See: https://github.com/aframevr/aframe/issues/4810 */
      document
        .getElementById("myplane")
        .removeAttribute("animation");

      document
        .getElementById("myplane")
        .setAttribute("animation", {
          property: "material.offset.x",
          to: "0",
          dur: "1000"
        });

      console.log("2s later updated");
    }, 2000);
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img
          id="checker"
          src="https://cdn.glitch.com/7de10cad-38fc-4f8e-a500-fbb2e63da6e9%2Fchecker8.png?v=1567014034775"
        />
      </a-assets>
      <a-entity
        id="myplane"
        geometry="primitive: plane"
        material="color: red; side: double; src: #checker; offset: 0.5 0.25"
        rotation="-90 0 0"
        textrans
      ></a-entity>

      <a-entity
        id="camera"
        camera
        orbit-controls="initialPosition: 0 1 -2; target: 0 0 0"
      ></a-entity>
      <a-sky id="sky" material="color:cyan"></a-sky>
    </a-scene>
  </body>
</html>
